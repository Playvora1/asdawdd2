<!DOCTYPE html>
<html>
<head>
    <title>Ping Pong Game</title>
</head>
<body>
    <h1>Welcome to the Ping Pon2g Game!</h1>
    <h2>Your IP Address will be sent to the Webhook.</h2>
    <h3>Please click the button below to start the game and send your IP</h3>
    <button onclick="playPingPong()">Start Game</button>

    <script>
        function playPingPong() {
            fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                const userIp = data.ip;
                sendToWebhook(userIp, 'Game started');
                pingPong(userIp);
            })
            .catch(error => console.error(error));
        }

        function pingPong(ip) {
            let count = 0;
            const interval = setInterval(() => {
                count++;
                const message = `${count % 2 === 1 ? 'Ping!' : 'Pong!'} Your IP is ${ip}`;
                console.log(message);
                sendToWebhook(ip, message);

                if (count === 10) {
                    clearInterval(interval);
                }
            }, 1000);
        }

        function sendToWebhook(ip, message) {
            const payload = {
                message: message,
                ip: ip
            };

            fetch('https://your-webhook-url.com', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error(error));
        }
    </script>
</body>
</html>
